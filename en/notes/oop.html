<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.13" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <link rel="alternate" hreflang="zh-cn" href="https://huuhghhgyg.github.io/MicroCityNotes/notes/oop.html"><meta property="og:url" content="https://huuhghhgyg.github.io/MicroCityNotes/en/notes/oop.html"><meta property="og:site_name" content="MicroCity Notes"><meta property="og:title" content="Object-Oriented Programming"><meta property="og:description" content="Object-Oriented Programming Object-Oriented Programming (OOP) is a programming paradigm that abstracts real-world entities into objects in the program world. Objects communicate..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:updated_time" content="2023-11-27T04:37:02.000Z"><meta property="article:modified_time" content="2023-11-27T04:37:02.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Object-Oriented Programming","image":[""],"dateModified":"2023-11-27T04:37:02.000Z","author":[]}</script><meta name="keywords" content="MicroCity,Notes,Docs"><link rel="manifest" href="/MicroCityNotes/manifest.webmanifest"><link rel="manifest" href="/MicroCityNotes/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><title>Object-Oriented Programming | MicroCity Notes</title><meta name="description" content="Object-Oriented Programming Object-Oriented Programming (OOP) is a programming paradigm that abstracts real-world entities into objects in the program world. Objects communicate...">
    <link rel="preload" href="/MicroCityNotes/assets/style-CsYbQs12.css" as="style"><link rel="stylesheet" href="/MicroCityNotes/assets/style-CsYbQs12.css">
    <link rel="modulepreload" href="/MicroCityNotes/assets/app-BTDDnQZF.js"><link rel="modulepreload" href="/MicroCityNotes/assets/oop.html-CyorHQs5.js"><link rel="modulepreload" href="/MicroCityNotes/assets/RMGObjects-CVHi2lF3.js">
    
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/MicroCityNotes/en/"><img class="vp-site-logo" src="/MicroCityNotes/images/icon_microcitynotes.png" alt="MicroCity Notes"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">MicroCity Notes</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/MicroCityNotes/en/notes/" aria-label="Notes"><!---->Notes<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/microcity/microcity.github.io/tree/master/doc" aria-label="MicroCity Web" rel="noopener noreferrer" target="_blank"><!---->MicroCity Web<!----></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/" aria-label="MicroCity Desktop"><!---->MicroCity Desktop<!----></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/1.1_what_microcity_can_do.html" aria-label="1. MicroCity Introduction"><!---->1. MicroCity Introduction<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/2.1_showing_a_world_map.html" aria-label="2. Getting Started with MicroCity"><!---->2. Getting Started with MicroCity<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/3.1_ui_overview.html" aria-label="3. User Interface"><!---->3. User Interface<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/4.1_si_overview.html" aria-label="4. Script Writing"><!---->4. Script Writing<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="MicroCity Links"><span class="title">MicroCity Links</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="MicroCity Links"><span class="title">MicroCity Links</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>GitHub</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="auto-link external-link" href="https://github.com/microcity/Desktop" aria-label="MicroCity Desktop Repository" rel="noopener noreferrer" target="_blank"><!---->MicroCity Desktop Repository<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="auto-link external-link" href="https://github.com/microcity/microcity.github.io" aria-label="MicroCity Web Repository" rel="noopener noreferrer" target="_blank"><!---->MicroCity Web Repository<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="auto-link external-link" href="https://microcity.github.io/" aria-label="MicroCity Web Online Environment" rel="noopener noreferrer" target="_blank"><!---->MicroCity Web Online Environment<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/MicroCityNotes/notes/oop.html" aria-label="ç®€ä½“ä¸­æ–‡"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/MicroCityNotes/en/notes/oop.html" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><button type="button" class="search-pro-button" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/MicroCityNotes/en/notes/" aria-label="Notes"><!---->Notes<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/microcity/microcity.github.io/tree/master/doc" aria-label="MicroCity Web" rel="noopener noreferrer" target="_blank"><!---->MicroCity Web<!----></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/" aria-label="MicroCity Desktop"><!---->MicroCity Desktop<!----></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/1.1_what_microcity_can_do.html" aria-label="1. MicroCity Introduction"><!---->1. MicroCity Introduction<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/2.1_showing_a_world_map.html" aria-label="2. Getting Started with MicroCity"><!---->2. Getting Started with MicroCity<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/3.1_ui_overview.html" aria-label="3. User Interface"><!---->3. User Interface<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/MicroCityNotes/en/docs/4.1_si_overview.html" aria-label="4. Script Writing"><!---->4. Script Writing<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="MicroCity Links"><span class="title">MicroCity Links</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="MicroCity Links"><span class="title">MicroCity Links</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>GitHub</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="auto-link external-link" href="https://github.com/microcity/Desktop" aria-label="MicroCity Desktop Repository" rel="noopener noreferrer" target="_blank"><!---->MicroCity Desktop Repository<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="auto-link external-link" href="https://github.com/microcity/microcity.github.io" aria-label="MicroCity Web Repository" rel="noopener noreferrer" target="_blank"><!---->MicroCity Web Repository<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="auto-link external-link" href="https://microcity.github.io/" aria-label="MicroCity Web Online Environment" rel="noopener noreferrer" target="_blank"><!---->MicroCity Web Online Environment<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/MicroCityNotes/notes/oop.html" aria-label="ç®€ä½“ä¸­æ–‡"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/MicroCityNotes/en/notes/oop.html" aria-label="English"><!---->English<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading" href="/MicroCityNotes/en/notes/" aria-label="Table of Contents"><!---->Table of Contents<!----></a><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">General Knowledge <span class="down arrow"></span></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/lua.html" aria-label="Quick Start with Lua Language"><!---->Quick Start with Lua Language<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/versions.html" aria-label="Version Information of MicroCity"><!---->Version Information of MicroCity<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/timelapse.html" aria-label="Advancement of Simulation Time"><!---->Advancement of Simulation Time<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/MicroCityNotes/en/notes/oop.html" aria-label="Object-Oriented Programming"><!---->Object-Oriented Programming<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#basic-concepts-of-object-oriented-programming" aria-label="Basic Concepts of Object-Oriented Programming"><!---->Basic Concepts of Object-Oriented Programming<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#classes-and-objects" aria-label="Classes and Objects"><!---->Classes and Objects<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#class-attributes-and-methods" aria-label="Class Attributes and Methods"><!---->Class Attributes and Methods<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#advantages-and-disadvantages-of-using-object-oriented-programming-in-simulation" aria-label="Advantages and Disadvantages of Using Object-Oriented Programming in Simulation"><!---->Advantages and Disadvantages of Using Object-Oriented Programming in Simulation<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#advantages" aria-label="Advantages"><!---->Advantages<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#disadvantages" aria-label="Disadvantages"><!---->Disadvantages<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#implementation-of-object-oriented-programming-in-lua" aria-label="Implementation of Object-Oriented Programming in Lua"><!---->Implementation of Object-Oriented Programming in Lua<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#example" aria-label="Example"><!---->Example<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#types-of-classes" aria-label="Types of Classes"><!---->Types of Classes<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/tools.html" aria-label="Tools"><!---->Tools<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">MicroCity <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/visualization.html" aria-label="Visualization of Results"><!---->Visualization of Results<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/network.html" aria-label="Operating Networks"><!---->Operating Networks<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/lp.html" aria-label="Model Solving"><!---->Model Solving<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">MicroCityWeb <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/web-ui.html" aria-label="User Interface Overview"><!---->User Interface Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/3d-scene.html" aria-label="3D Scene"><!---->3D Scene<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/3d-objects.html" aria-label="3D Objects"><!---->3D Objects<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/event-scheduling.html" aria-label="Discrete Event Simulation and Program Control"><!---->Discrete Event Simulation and Program Control<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/mip.html" aria-label="Mixed integer programming"><!---->Mixed integer programming<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/debug.html" aria-label="Debugging"><!---->Debugging<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">Concepts <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/warehouse-simulation.html" aria-label="Ideas for Warehouse Automation Simulation"><!---->Ideas for Warehouse Automation Simulation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/plots.html" aria-label="General Drawing Code"><!---->General Drawing Code<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/MicroCityNotes/en/notes/cy-simulation.html" aria-label="Port AGV Service Process 3D Simulation Approach"><!---->Port AGV Service Process 3D Simulation Approach<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="object-oriented-programming" tabindex="-1"><a class="header-anchor" href="#object-oriented-programming"><span>Object-Oriented Programming</span></a></h1><p>Object-Oriented Programming (OOP) is a programming paradigm that abstracts real-world entities into objects in the program world. Objects communicate with each other through message passing, forming the functionality of a program.</p><p><img src="/MicroCityNotes/assets/RMGObjects-DKtMAgkd.png" alt="Yard Objects"></p><p>According to online sources, OOP has three main characteristics: encapsulation, inheritance, and polymorphism. However, in this simulation, encapsulation is the most frequently used, while the opportunities for inheritance and polymorphism are rare. Additionally, I haven&#39;t implemented object message passing in MicroCity yet. If I do, I will update this article accordingly. Therefore, the following mainly introduces how to use encapsulation in Lua code for MicroCity.</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>The code examples in this article are applicable to MicroCityWeb and may not necessarily work for the desktop version of MicroCity. Furthermore, this article is based on personal insights and does not guarantee absolute correctness in terms of concepts.</p></div><h2 id="basic-concepts-of-object-oriented-programming" tabindex="-1"><a class="header-anchor" href="#basic-concepts-of-object-oriented-programming"><span>Basic Concepts of Object-Oriented Programming</span></a></h2><h3 id="classes-and-objects" tabindex="-1"><a class="header-anchor" href="#classes-and-objects"><span>Classes and Objects</span></a></h3><p>In simple terms, <strong>a class is a template for objects, and an object is an instance of a class.</strong></p><p>A class is a fundamental concept in object-oriented programming that represents a category of things. The concept of a class can be understood as a category of objectsâ€”such as AGVs, shelves, and gantry cranes. You can think of a class as a template for a category of things, and objects are specific instances created based on this template.</p><p>A good example is the mentioned shelf. A shelf is a class, and a specific shelf is an object. The shelf class contains various attributes, such as the shelf&#39;s location and the items it holds. Different shelf objects created from the shelf class belong to the shelf class, such as Shelf 1, Shelf 2, etc. Although their attributes may differ, they are all objects of the shelf class.</p><h3 id="class-attributes-and-methods" tabindex="-1"><a class="header-anchor" href="#class-attributes-and-methods"><span>Class Attributes and Methods</span></a></h3><p>In MicroCity simulation, based on my personal experience, classes usually have attributes but not necessarily methods. Continuing with the example of a shelf mentioned earlier, attributes are the characteristics of a class, such as the location of the shelf and the items on the shelf. Methods represent the behaviors of a class and are usually implemented with functions, such as an AGV lifting or placing a shelf, an AGV moving, or driving a shelf.</p><h2 id="advantages-and-disadvantages-of-using-object-oriented-programming-in-simulation" tabindex="-1"><a class="header-anchor" href="#advantages-and-disadvantages-of-using-object-oriented-programming-in-simulation"><span>Advantages and Disadvantages of Using Object-Oriented Programming in Simulation</span></a></h2><h3 id="advantages" tabindex="-1"><a class="header-anchor" href="#advantages"><span>Advantages</span></a></h3><p>In MicroCity, when dealing with scenarios involving the movement of multiple objects of the same type and playing animations of object movements (such as AGVs, shelves, and gantry cranes), a considerable amount of coordinate calculations and position settings are required. If each object needs to be implemented individually, the code for modifying the coordinate of each object will become very long, making it difficult to maintain. <strong>By using the object-oriented programming paradigm, data processing code can be encapsulated into individual objects, making the code more readable and maintainable.</strong></p><p>Furthermore, if multiple objects of the same type need to be created in a scene, each object may have different parameters. By encapsulating using object-oriented methods, each object&#39;s parameters can be encapsulated within the objects themselves. When the simulation process or scale becomes more complex, <strong>the reusability of the code can be increased.</strong></p><p>For simulations, the most important aspect is understanding the business process and business logic. <strong>Using object-oriented programming can make the simulation&#39;s business process and logic more clear, improve code readability, and increase maintainability.</strong> Furthermore, when it is necessary to modify the business logic of a class of objects, you only need to enter the class and make the modification. For example, modifying the scheduling algorithm for all gantry cranes in a port only needs to be done once because all gantry cranes share the same scheduling algorithm.</p><p>Based on personal experience, when using object-oriented methods to encapsulate objects, it is mostly intended to create a generic object and then create multiple objects of the same type in subsequent simulations automatically or manually, with different parameters for each object. This increases code reusability and improves code readability, providing convenience for future maintenance and modifications, and lays a foundation for large-scale simulations.</p><h3 id="disadvantages" tabindex="-1"><a class="header-anchor" href="#disadvantages"><span>Disadvantages</span></a></h3><p><strong>If the simulation is small in scale and involves simple operations with a small codebase, it is not recommended to use object-oriented methods for code encapsulation.</strong> Using object-oriented methods will increase the number of lines of code, and may make the code appear more complex than the original problem. (Of course, there will be no consequences if you still choose to use it, except that it may look strange.) Specifically, you can refer to the provided code examples in the following sections and notice that most of the code is dedicated to describing classes and their business logic, while the code for the business process is simple and occupies a small proportion.</p><h2 id="implementation-of-object-oriented-programming-in-lua" tabindex="-1"><a class="header-anchor" href="#implementation-of-object-oriented-programming-in-lua"><span>Implementation of Object-Oriented Programming in Lua</span></a></h2><p>In Lua, the concept of object-oriented programming is typically implemented using tables. A table is a data structure in Lua that can represent arrays, dictionaries, objects, etc. In object-oriented programming, tables can be used to represent objects.</p><h3 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example</span></a></h3><p>Since the objects created in MicroCity are tables, we can encapsulate the object&#39;s attributes directly in a table and return that table when creating an object.</p><p>Here&#39;s an example:</p><div class="language-lua line-numbers-mode" data-highlighter="prismjs" data-ext="lua" data-title="lua"><pre class="language-lua"><code><span class="line"><span class="token comment">-- The function will return an AGV object</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">AGV</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">-- Create a 3D object of an AGV in MicroCity</span></span>
<span class="line">    <span class="token keyword">local</span> agv <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">addobj</span><span class="token punctuation">(</span><span class="token string">&#39;/res/agv.glb&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">-- Set the properties of the object</span></span>
<span class="line">    agv<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span> <span class="token comment">-- Set the position of the object</span></span>
<span class="line">    agv<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">-- Set the speed of the object</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">function</span> agv<span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> dz<span class="token punctuation">)</span></span>
<span class="line">        agv<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token punctuation">{</span>agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> dx<span class="token punctuation">,</span> agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> dy<span class="token punctuation">,</span> agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> dz<span class="token punctuation">}</span> <span class="token comment">-- Modify the object&#39;s coordinates</span></span>
<span class="line"></span>
<span class="line">        agv<span class="token punctuation">:</span><span class="token function">setpos</span><span class="token punctuation">(</span>agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- Set the object&#39;s position</span></span>
<span class="line">        scene<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Render the scene (Not recommended to call here, just for demonstration purposes)</span></span>
<span class="line">    <span class="token keyword">end</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> agv <span class="token comment">-- Return the object</span></span>
<span class="line"><span class="token keyword">end</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">-- Object usage</span></span>
<span class="line"><span class="token keyword">local</span> obj <span class="token operator">=</span> <span class="token function">AGV</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Create an object</span></span>
<span class="line">obj<span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">-- Move the object 1 unit in the x direction</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Or you can choose to encapsulate the object within a table and return that table after creating the object.</p><div class="language-lua line-numbers-mode" data-highlighter="prismjs" data-ext="lua" data-title="lua"><pre class="language-lua"><code><span class="line"><span class="token comment">-- The function will return an AGV object</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">AGV</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">-- Set the object&#39;s properties directly in the table to be returned</span></span>
<span class="line">    <span class="token keyword">local</span> agv <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">        object <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">addobj</span><span class="token punctuation">(</span><span class="token string">&#39;/res/agv.glb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        position <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        speed <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">function</span> agv<span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> dz<span class="token punctuation">)</span></span>
<span class="line">        agv<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token punctuation">{</span>agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> dx<span class="token punctuation">,</span> agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> dy<span class="token punctuation">,</span> agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> dz<span class="token punctuation">}</span> <span class="token comment">-- Modify the object&#39;s coordinates</span></span>
<span class="line"></span>
<span class="line">        agv<span class="token punctuation">.</span>object<span class="token punctuation">:</span><span class="token function">setpos</span><span class="token punctuation">(</span>agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> agv<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- Set the object&#39;s position</span></span>
<span class="line">        scene<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Render the scene (Not recommended to call here, just for demonstration purposes)</span></span>
<span class="line">    <span class="token keyword">end</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> agv <span class="token comment">-- Return the object</span></span>
<span class="line"><span class="token keyword">end</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">-- Object usage</span></span>
<span class="line"><span class="token keyword">local</span> agv <span class="token operator">=</span> <span class="token function">AGV</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Create an object</span></span>
<span class="line">agv<span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">-- Move the object 1 unit in the x direction</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There is also another method to create objects using <code>setmetatable</code>, this belongs to advanced usage, but I feel like it is not used very often. However, it seems like this method can be used to achieve class inheritance, if you are interested, you can search for it yourself. Here is the code implementation of the shelf class that I wrote for an earlier assignment as a reference. (Now I feel like this class is not written very well ðŸ˜‚, for example, <code>x</code> and <code>y</code> can be replaced with <code>pos = {x, y}</code>, and <code>x_origin</code> and <code>y_origin</code> can be replaced with <code>origin = {x, y}</code>).</p><div class="language-lua line-numbers-mode" data-highlighter="prismjs" data-ext="lua" data-title="lua"><pre class="language-lua"><code><span class="line"><span class="token comment">-- Shelf</span></span>
<span class="line">Shelf <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">    y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">    cargo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">-- Items on the shelf</span></span>
<span class="line">    x_origin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">-- Shelf&#39;s original x coordinate</span></span>
<span class="line">    y_origin <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">-- Shelf&#39;s original y coordinate</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> Shelf<span class="token punctuation">:</span><span class="token function">New</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">local</span> self <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">    <span class="token function">setmetatable</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">        __index <span class="token operator">=</span> Shelf</span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    self<span class="token punctuation">.</span>__index <span class="token operator">=</span> self</span>
<span class="line"></span>
<span class="line">    self<span class="token punctuation">.</span>x <span class="token operator">=</span> x</span>
<span class="line">    self<span class="token punctuation">.</span>y <span class="token operator">=</span> y</span>
<span class="line">    <span class="token comment">-- Set the original coordinates</span></span>
<span class="line">    self<span class="token punctuation">.</span>x_origin <span class="token operator">=</span> x</span>
<span class="line">    self<span class="token punctuation">.</span>y_origin <span class="token operator">=</span> y</span>
<span class="line">    <span class="token keyword">return</span> self</span>
<span class="line"><span class="token keyword">end</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="types-of-classes" tabindex="-1"><a class="header-anchor" href="#types-of-classes"><span>Types of Classes</span></a></h2><p>Here, I would like to summarize the main types of classes that I have created.</p><ol><li><strong>3D entity classes:</strong> These classes mainly control the movement of 3D entities, such as AGVs and cranes. Most of them have physical entities that need to be moved. Some even include sub-objects, such as crane objects that have hoists, ropes, and cranes as sub-objects.</li><li><strong>Data model classes:</strong> These classes represent various entities in a system, such as yards, shelves, and goods. For example, a yard class contains data about the yard&#39;s dimensions, the goods in the yard, and the containers in the yard.</li></ol><p>It should be noted that I do not strictly categorize these types, as certain classes may possess the characteristics of multiple types. For instance, an AGV class also includes data about the AGV&#39;s position and speed, while a shelf class merely stores the shelf model. The movement of the shelf model is controlled by the AGV, and the more important function of the shelf class is to record the information of the goods on the shelf. Therefore, I consider these types as rough distinctions, and the specific implementation should be based on the actual business processes and requirements.</p><blockquote><p>This post is translated using ChatGPT, please <a href="https://github.com/huuhghhgyg/MicroCityNotes/issues/new" target="_blank" rel="noopener noreferrer"><strong>feedback</strong></a> if any omissions.</p></blockquote></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: huuhghhgyg@outlook.com">huuhghhgyg</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/MicroCityNotes/en/notes/timelapse.html" aria-label="Advancement of Simulation Time"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Advancement of Simulation Time</span></div></a><a class="route-link auto-link next" href="/MicroCityNotes/en/notes/tools.html" aria-label="Tools"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Tools</span></div></a></nav><!--[--><!--[--><div id="vp-comment" class="giscus-wrapper input-top" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!--]--><!--]--></main><!--]--></div><!--[--><!----><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/MicroCityNotes/assets/app-BTDDnQZF.js" defer></script>
  </body>
</html>

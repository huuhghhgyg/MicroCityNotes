<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.0">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="keywords" content="MicroCity,网络,拓补,network"><link rel="alternate" hreflang="zh-cn" href="https://huuhghhgyg.github.io/MicroCityNotes/notes/network.html"><meta property="og:url" content="https://huuhghhgyg.github.io/MicroCityNotes/en/notes/network.html"><meta property="og:site_name" content="MicroCity Notes"><meta property="og:title" content="Operating Networks"><meta property="og:description" content="Network Topology Network topology, in simple terms, refers to a network with nodes and connections between them. If we think of connections as roads, then you need to solve the ..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:updated_time" content="2023-11-27T04:37:02.000Z"><meta property="article:modified_time" content="2023-11-27T04:37:02.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Operating Networks","image":[""],"dateModified":"2023-11-27T04:37:02.000Z","author":[]}</script><link rel="manifest" href="/MicroCityNotes/manifest.webmanifest"><title>Operating Networks | MicroCity Notes</title><meta name="description" content="Network Topology Network topology, in simple terms, refers to a network with nodes and connections between them. If we think of connections as roads, then you need to solve the ...">
    <link rel="preload" href="/MicroCityNotes/assets/style-gRAOaLx9.css" as="style"><link rel="stylesheet" href="/MicroCityNotes/assets/style-gRAOaLx9.css">
    <link rel="modulepreload" href="/MicroCityNotes/assets/app-7jh3jpmO.js"><link rel="modulepreload" href="/MicroCityNotes/assets/network.html-T-Gpk_VL.js"><link rel="modulepreload" href="/MicroCityNotes/assets/two_way-xpspXH9g.js"><link rel="modulepreload" href="/MicroCityNotes/assets/network.html-l_dMxKkp.js">
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/MicroCityNotes/en/" class=""><img class="logo" src="/MicroCityNotes/images/icon_microcitynotes.png" alt="MicroCity Notes"><span class="site-name can-hide">MicroCity Notes</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/MicroCityNotes/en/notes/" class="router-link-active" aria-label="Notes"><!--[--><!--]--> Notes <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/MicroCityNotes/en/docs/" class="" aria-label="Desktop Documentation"><!--[--><!--]--> Desktop Documentation <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/MicroCityNotes/en/docs/1.1_what_microcity_can_do" class="" aria-label="1. MicroCity Introduction"><!--[--><!--]--> 1. MicroCity Introduction <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MicroCityNotes/en/docs/2.1_showing_a_world_map" class="" aria-label="2. Getting Started with MicroCity"><!--[--><!--]--> 2. Getting Started with MicroCity <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MicroCityNotes/en/docs/3.1_ui_overview" class="" aria-label="3. User Interface"><!--[--><!--]--> 3. User Interface <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MicroCityNotes/en/docs/4.1_si_overview" class="" aria-label="4. Script Writing"><!--[--><!--]--> 4. Script Writing <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="MicroCity Links"><span class="title">MicroCity Links</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="MicroCity Links"><span class="title">MicroCity Links</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>GitHub</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/microcity/Desktop" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Desktop Repository"><!--[--><!--]--> MicroCity Desktop Repository <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/microcity/microcity.github.io" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Web Repository"><!--[--><!--]--> MicroCity Web Repository <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://microcity.github.io/" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Web Online Environment"><!--[--><!--]--> MicroCity Web Online Environment <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Gitee</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://gitee.com/microcity/desktop" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Desktop Repository"><!--[--><!--]--> MicroCity Desktop Repository <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://gitee.com/microcity/microcity" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Web Repository"><!--[--><!--]--> MicroCity Web Repository <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://microcity.gitee.io/" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Web Online Environment"><!--[--><!--]--> MicroCity Web Online Environment <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MicroCityNotes/notes/network.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/MicroCityNotes/en/notes/network.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div class="search-box" role="search" data-v-fd6cd4d5><input value="" aria-label="Search" class="" placeholder="Search" autocomplete="off" spellcheck="false" data-v-fd6cd4d5><!----></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/MicroCityNotes/en/notes/" class="router-link-active" aria-label="Notes"><!--[--><!--]--> Notes <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/MicroCityNotes/en/docs/" class="" aria-label="Desktop Documentation"><!--[--><!--]--> Desktop Documentation <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/MicroCityNotes/en/docs/1.1_what_microcity_can_do" class="" aria-label="1. MicroCity Introduction"><!--[--><!--]--> 1. MicroCity Introduction <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MicroCityNotes/en/docs/2.1_showing_a_world_map" class="" aria-label="2. Getting Started with MicroCity"><!--[--><!--]--> 2. Getting Started with MicroCity <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MicroCityNotes/en/docs/3.1_ui_overview" class="" aria-label="3. User Interface"><!--[--><!--]--> 3. User Interface <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MicroCityNotes/en/docs/4.1_si_overview" class="" aria-label="4. Script Writing"><!--[--><!--]--> 4. Script Writing <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="MicroCity Links"><span class="title">MicroCity Links</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="MicroCity Links"><span class="title">MicroCity Links</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>GitHub</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/microcity/Desktop" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Desktop Repository"><!--[--><!--]--> MicroCity Desktop Repository <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/microcity/microcity.github.io" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Web Repository"><!--[--><!--]--> MicroCity Web Repository <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://microcity.github.io/" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Web Online Environment"><!--[--><!--]--> MicroCity Web Online Environment <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Gitee</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://gitee.com/microcity/desktop" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Desktop Repository"><!--[--><!--]--> MicroCity Desktop Repository <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://gitee.com/microcity/microcity" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Web Repository"><!--[--><!--]--> MicroCity Web Repository <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://microcity.gitee.io/" rel="noopener noreferrer" target="_blank" aria-label="MicroCity Web Online Environment"><!--[--><!--]--> MicroCity Web Online Environment <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MicroCityNotes/notes/network.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/MicroCityNotes/en/notes/network.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/MicroCityNotes/en/notes/" class="router-link-active sidebar-item sidebar-heading" aria-label="Table of Contents"><!--[--><!--]--> Table of Contents <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">General Knowledge <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/MicroCityNotes/en/notes/lua.html" class="sidebar-item" aria-label="Quick Start with Lua Language"><!--[--><!--]--> Quick Start with Lua Language <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/versions.html" class="sidebar-item" aria-label="Versions of MicroCity"><!--[--><!--]--> Versions of MicroCity <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/timelapse.html" class="sidebar-item" aria-label="Advancement of Simulation Time"><!--[--><!--]--> Advancement of Simulation Time <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/oop.html" class="sidebar-item" aria-label="Object-Oriented Programming"><!--[--><!--]--> Object-Oriented Programming <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/tools.html" class="sidebar-item" aria-label="Tools"><!--[--><!--]--> Tools <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">MicroCity <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/MicroCityNotes/en/notes/visualization.html" class="sidebar-item" aria-label="Visualization of Results"><!--[--><!--]--> Visualization of Results <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MicroCityNotes/en/notes/network.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Operating Networks"><!--[--><!--]--> Operating Networks <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MicroCityNotes/en/notes/network.html#network-topology" class="router-link-active router-link-exact-active sidebar-item" aria-label="Network Topology"><!--[--><!--]--> Network Topology <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MicroCityNotes/en/notes/network.html#building-network-topology-using-functions" class="router-link-active router-link-exact-active sidebar-item" aria-label="Building Network Topology using Functions"><!--[--><!--]--> Building Network Topology using Functions <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MicroCityNotes/en/notes/network.html#simple-example-of-network-topology" class="router-link-active router-link-exact-active sidebar-item" aria-label="Simple Example of Network Topology"><!--[--><!--]--> Simple Example of Network Topology <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MicroCityNotes/en/notes/network.html#pitfall-creating-network-objects" class="router-link-active router-link-exact-active sidebar-item" aria-label="Pitfall: Creating Network Objects"><!--[--><!--]--> Pitfall: Creating Network Objects <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MicroCityNotes/en/notes/network.html#copyshapeto-function" class="router-link-active router-link-exact-active sidebar-item" aria-label="CopyShapeTo Function"><!--[--><!--]--> CopyShapeTo Function <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MicroCityNotes/en/notes/network.html#using-the-network-topology-algorithm" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using the Network Topology Algorithm"><!--[--><!--]--> Using the Network Topology Algorithm <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MicroCityNotes/en/notes/network.html#calculating-the-shortest-path-and-its-length" class="router-link-active router-link-exact-active sidebar-item" aria-label="Calculating the Shortest Path and Its Length"><!--[--><!--]--> Calculating the Shortest Path and Its Length <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MicroCityNotes/en/notes/network.html#pitfall-sequences" class="router-link-active router-link-exact-active sidebar-item" aria-label="Pitfall: Sequences"><!--[--><!--]--> Pitfall: Sequences <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/MicroCityNotes/en/notes/lp.html" class="sidebar-item" aria-label="Model Solving"><!--[--><!--]--> Model Solving <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">MicroCityWeb <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/MicroCityNotes/en/notes/web-ui.html" class="sidebar-item" aria-label="User Interface Overview"><!--[--><!--]--> User Interface Overview <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/3d-scene.html" class="sidebar-item" aria-label="3D Scene"><!--[--><!--]--> 3D Scene <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/3d-objects.html" class="sidebar-item" aria-label="3D Objects"><!--[--><!--]--> 3D Objects <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/event-scheduling.html" class="sidebar-item" aria-label="Discrete Event Simulation and Program Control"><!--[--><!--]--> Discrete Event Simulation and Program Control <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/mip.html" class="sidebar-item" aria-label="Mixed integer programming"><!--[--><!--]--> Mixed integer programming <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/debug.html" class="sidebar-item" aria-label="Debugging"><!--[--><!--]--> Debugging <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Concepts <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/MicroCityNotes/en/notes/warehouse-simulation.html" class="sidebar-item" aria-label="Ideas for Warehouse Automation Simulation"><!--[--><!--]--> Ideas for Warehouse Automation Simulation <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/plots.html" class="sidebar-item" aria-label="General Drawing Code"><!--[--><!--]--> General Drawing Code <!--[--><!--]--></a><!----></li><li><a href="/MicroCityNotes/en/notes/cy-simulation.html" class="sidebar-item" aria-label="Port AGV Service Process 3D Simulation Approach"><!--[--><!--]--> Port AGV Service Process 3D Simulation Approach <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="operating-networks" tabindex="-1"><a class="header-anchor" href="#operating-networks" aria-hidden="true">#</a> Operating Networks</h1><h2 id="network-topology" tabindex="-1"><a class="header-anchor" href="#network-topology" aria-hidden="true">#</a> Network Topology</h2><p>Network topology, in simple terms, refers to a network with nodes and connections between them. If we think of connections as roads, then you need to solve the following problems:</p><ol><li>Is this road one-way or two-way?</li><li>Where does the road start? Where does it end?</li></ol><p>In general, each road in a network diagram is considered to be one-way. If a two-way road is needed, you simply need to add a road in the opposite direction. Like this: <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQwMCIgaGVpZ2h0PSIyOTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIG92ZXJmbG93PSJoaWRkZW4iPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcDAiPjxyZWN0IHg9IjcxNCIgeT0iNjMyIiB3aWR0aD0iMjQwMCIgaGVpZ2h0PSIyOTMiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjY2xpcDApIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzE0IC02MzIpIj48cGF0aCBkPSJNMTU3Ni41IDY5Ny41QzE1NzYuNSA2NjguNzgxIDE1OTkuNzggNjQ1LjUgMTYyOC41IDY0NS41IDE2NTcuMjIgNjQ1LjUgMTY4MC41IDY2OC43ODEgMTY4MC41IDY5Ny41IDE2ODAuNSA3MjYuMjE5IDE2NTcuMjIgNzQ5LjUgMTYyOC41IDc0OS41IDE1OTkuNzggNzQ5LjUgMTU3Ni41IDcyNi4yMTkgMTU3Ni41IDY5Ny41WiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjQuNTgzMzMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48dGV4dCBmb250LWZhbWlseT0iQ29uc29sYXMsQ29uc29sYXNfTVNGb250U2VydmljZSxzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iNDAwIiBmb250LXNpemU9IjY0IiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDE2MTAuNTIgNzIwKSI+MjwvdGV4dD48cGF0aCBkPSJNODIzIDY5NyAxNTc2LjYzIDY5NyIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHBhdGggZD0iTTg0OC43OCA2OTEuODQ0IDE1NTAuODUgNjkxLjg0NCAxNTUwLjg1IDcwMi4xNTcgODQ4Ljc4IDcwMi4xNTZaTTg1My45MzcgNzEyLjQ2OSA4MjMgNjk3IDg1My45MzcgNjgxLjUzMVpNMTU0NS42OSA2ODEuNTMyIDE1NzYuNjMgNjk3IDE1NDUuNjkgNzEyLjQ2OVoiIGZpbGw9IiNBNUE1QTUiLz48cGF0aCBkPSJNNzE5LjUgNjk3LjVDNzE5LjUgNjY4Ljc4MSA3NDIuNzgxIDY0NS41IDc3MS41IDY0NS41IDgwMC4yMTkgNjQ1LjUgODIzLjUgNjY4Ljc4MSA4MjMuNSA2OTcuNSA4MjMuNSA3MjYuMjE5IDgwMC4yMTkgNzQ5LjUgNzcxLjUgNzQ5LjUgNzQyLjc4MSA3NDkuNSA3MTkuNSA3MjYuMjE5IDcxOS41IDY5Ny41WiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjQuNTgzMzMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48dGV4dCBmb250LWZhbWlseT0iQ29uc29sYXMsQ29uc29sYXNfTVNGb250U2VydmljZSxzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iNDAwIiBmb250LXNpemU9IjY0IiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDc1Mi45NDcgNzIwKSI+MTwvdGV4dD48dGV4dCBmb250LWZhbWlseT0iU2ltSGVpLFNpbUhlaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iNjQiIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIDEgMTA3MS4xNiA4NzUpIj7mraPluLjnkIbop6M8L3RleHQ+PHBhdGggZD0iTTMwMDYuNSA2OTcuNUMzMDA2LjUgNjY4Ljc4MSAzMDI5Ljc4IDY0NS41IDMwNTguNSA2NDUuNSAzMDg3LjIyIDY0NS41IDMxMTAuNSA2NjguNzgxIDMxMTAuNSA2OTcuNSAzMTEwLjUgNzI2LjIxOSAzMDg3LjIyIDc0OS41IDMwNTguNSA3NDkuNSAzMDI5Ljc4IDc0OS41IDMwMDYuNSA3MjYuMjE5IDMwMDYuNSA2OTcuNVoiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSI0LjU4MzMzIiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHRleHQgZm9udC1mYW1pbHk9IkNvbnNvbGFzLENvbnNvbGFzX01TRm9udFNlcnZpY2Usc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSI2NCIgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAzMDM5LjgxIDcyMCkiPjI8L3RleHQ+PHBhdGggZD0iTTIxNDguNSA2OTcuNUMyMTQ4LjUgNjY4Ljc4MSAyMTcxLjc4IDY0NS41IDIyMDAuNSA2NDUuNSAyMjI5LjIyIDY0NS41IDIyNTIuNSA2NjguNzgxIDIyNTIuNSA2OTcuNSAyMjUyLjUgNzI2LjIxOSAyMjI5LjIyIDc0OS41IDIyMDAuNSA3NDkuNSAyMTcxLjc4IDc0OS41IDIxNDguNSA3MjYuMjE5IDIxNDguNSA2OTcuNVoiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSI0LjU4MzMzIiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHRleHQgZm9udC1mYW1pbHk9IkNvbnNvbGFzLENvbnNvbGFzX01TRm9udFNlcnZpY2Usc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSI2NCIgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAyMTgyLjI0IDcyMCkiPjE8L3RleHQ+PHBhdGggZD0iTTIyMzcuNSA2NTcuMDYyIDI5OTguNjYgNjU3LjA2MyAyOTk4LjY2IDY2My45MzggMjIzNy41IDY2My45MzdaTTI5OTQuMDcgNjQ2Ljc1IDMwMjEuNTcgNjYwLjUgMjk5NC4wNyA2NzQuMjVaIiBmaWxsPSIjQTVBNUE1Ii8+PHBhdGggZD0iTTEuNTgyMjFlLTA2LTMuNDM3NSA3NjEuMTU2LTMuNDM3MTUgNzYxLjE1NiAzLjQzNzg1LTEuNTgyMjFlLTA2IDMuNDM3NVpNNzU2LjU3My0xMy43NDk3IDc4NC4wNzMgMC4wMDAzNjA4OTIgNzU2LjU3MyAxMy43NTAzWiIgZmlsbD0iI0E1QTVBNSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMzAyMS41NyA3MzQuNSkiLz48dGV4dCBmb250LWZhbWlseT0iU2ltSGVpLFNpbUhlaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iNjQiIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIDEgMjQwNC4yIDg3NSkiPue9kee7nOWbvuS4reeahOihqOi+vjwvdGV4dD48L2c+PC9zdmc+" alt="Two-way road"> This way, each road has a direction. It is common to use the symbol O for the starting point and the symbol D for the destination point. Using O and D, the direction of each road can be clearly described.</p><p>For the example in the above diagram, the road at the top has O=1, D=2, so the direction is described as from 1 to 2; the road at the bottom has O=2, D=1, so the direction is described as from 2 to 1.</p><h2 id="building-network-topology-using-functions" tabindex="-1"><a class="header-anchor" href="#building-network-topology-using-functions" aria-hidden="true">#</a> Building Network Topology using Functions</h2><p>MicroCity can handle networks, and the specific usage of all functions can be found in the reference document: <a href="/MicroCityNotes/en/docs/4.6_networks.html" class="">4.6 Networks</a></p><p>Here are some simple methods for creating network objects in MicroCity:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> network <span class="token operator">=</span> <span class="token function">CreateNetwork</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Create an empty network object and return it. <code>network</code> is the returned empty network object.</p><p>After creating the object, you can use functions like <code>AddLink</code> and <code>DelLink</code> to create connections in the network object. See the reference document for specific usage.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> network<span class="token punctuation">,</span> nodes<span class="token punctuation">,</span> links <span class="token operator">=</span> <span class="token function">CreateNetwork</span><span class="token punctuation">(</span>Lines<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Here, <code>Lines</code> is a vector graphic object of type <code>Line</code>. In this usage, the <code>CreateNetwork()</code> function in MicroCity can directly add starting points and endpoints to the road connections and automatically label the O and D points in the returned <code>links</code> object.</p><p>In other words, you only need to provide the network connections, and the remaining work of topology can be automatically completed by the function. I believe this may be the most commonly used method for creating network diagrams and conducting topology.</p><h2 id="simple-example-of-network-topology" tabindex="-1"><a class="header-anchor" href="#simple-example-of-network-topology" aria-hidden="true">#</a> Simple Example of Network Topology</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- Open the connection layer</span>
Shapes <span class="token operator">=</span> <span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;Shapes.shp&quot;</span><span class="token punctuation">)</span>

<span class="token comment">-- Create network topology</span>
network<span class="token punctuation">,</span> network_nodes<span class="token punctuation">,</span> network_links <span class="token operator">=</span> <span class="token function">CreateNetwork</span><span class="token punctuation">(</span>Shapes<span class="token punctuation">)</span>

<span class="token comment">-- Create a layer to store the topologized network nodes</span>
Nodes <span class="token operator">=</span> <span class="token function">CreateShapes</span><span class="token punctuation">(</span><span class="token string">&quot;Nodes&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;point&quot;</span><span class="token punctuation">)</span>
<span class="token comment">-- Copy the network nodes obtained from topoization to the layer</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Nodes<span class="token punctuation">,</span> <span class="token string">&quot;ID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">GetRecCount</span><span class="token punctuation">(</span>network_nodes<span class="token punctuation">)</span> <span class="token keyword">do</span>
	<span class="token function">CopyShapeTo</span><span class="token punctuation">(</span>Nodes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">GetShape</span><span class="token punctuation">(</span>network_nodes<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment">-- Create a layer to store the topologized network connections</span>
Links <span class="token operator">=</span> <span class="token function">CreateShapes</span><span class="token punctuation">(</span><span class="token string">&quot;Links&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;line&quot;</span><span class="token punctuation">)</span>
<span class="token comment">-- Copy the original attribute fields from the network connections to the layer</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">GetFieldCount</span><span class="token punctuation">(</span>Shapes<span class="token punctuation">)</span> <span class="token keyword">do</span>
	<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token function">GetField</span><span class="token punctuation">(</span>Shapes<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token comment">-- Add attribute fields for the connections, and corresponding data will be added later using functions</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;ID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;O&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;IMPEDANCE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">)</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;DIRECTION&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;CAPACITY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">)</span>
<span class="token comment">-- Copy the network lines obtained from topoization to the layer (including corresponding data)</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">GetRecCount</span><span class="token punctuation">(</span>network_links<span class="token punctuation">)</span> <span class="token keyword">do</span>
	<span class="token function">CopyShapeTo</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">GetShape</span><span class="token punctuation">(</span>network_links<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment">-- Update the layers</span>
<span class="token function">Update</span><span class="token punctuation">(</span>Nodes<span class="token punctuation">)</span>
<span class="token function">Update</span><span class="token punctuation">(</span>Links<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>The example is modified from the built-in editor of MicroCity.</p></blockquote><p>Although the network connection was established at the beginning, it is possible that during the topology process, the nodes on the connection may overlap, causing the continuous connection to be divided into multiple segments. Therefore, the resulting <code>Links</code> layer may be different from the input layer. The topology nodes <code>Nodes</code> obtained from the topology process correspond to the resulting links <code>Links</code>, so it is recommended to use the topological processing result of the Links layer as the connection between network nodes.</p><h3 id="pitfall-creating-network-objects" tabindex="-1"><a class="header-anchor" href="#pitfall-creating-network-objects" aria-hidden="true">#</a> Pitfall: Creating Network Objects</h3><p>If you need to create a network again using the <code>CreateNetwork(Nodes, Links)</code> function, you need to retain the attributes added during the topological process, otherwise there will be errors in network initialization:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;ID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;O&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;IMPEDANCE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- impedance</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;DIRECTION&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- direction</span>
<span class="token function">AddField</span><span class="token punctuation">(</span>Links<span class="token punctuation">,</span> <span class="token string">&quot;CAPACITY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- capacity</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you are only doing a one-time topology of the network and will not use the topologically processed network to create a network object again, you still need to create the above attributes first. The topologically processed data is not filled in according to the attribute names, but according to their positions.</p><p>If only <code>O</code> and <code>D</code> attributes are created, the <code>ID</code> data will be filled in the <code>O</code> attribute, and the <code>O</code> data will be filled in the <code>D</code> attribute. If only the <code>ID</code>, <code>O</code>, and <code>D</code> attributes are created in the order mentioned above, the data will be filled correctly due to the data order being filled based on their positions.</p><h3 id="copyshapeto-function" tabindex="-1"><a class="header-anchor" href="#copyshapeto-function" aria-hidden="true">#</a> CopyShapeTo Function</h3><p>The <code>CopyShapeTo()</code> function is used in the topological process to copy a <code>Shape</code> object to the corresponding position in the <code>Shapes</code> layer and perform position transformation in the <code>Shapes</code> layer based on the input <code>dx</code> and <code>dy</code>. Here, <code>dx</code> and <code>dy</code> represent the displacements in the x and y directions (referred to as deltax and deltay).</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">CopyShapeTo</span><span class="token punctuation">(</span>TargetShapes<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> Shape1 <span class="token punctuation">[</span><span class="token punctuation">,</span> Shape2<span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Based on the usage of the function, it also supports copying to multiple layers and then performing the transformation. If you only want to copy the shape to the corresponding position of the corresponding layer without transformation, you can set <code>dx</code> and <code>dy</code> to <code>0</code>, like this:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">CopyShapeTo</span><span class="token punctuation">(</span>TargetShapes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Shape1 <span class="token punctuation">[</span><span class="token punctuation">,</span> Shape2<span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>For the specific usage of the <code>CopyShapeTo()</code> function, please refer to <a href="/MicroCityNotes/en/docs/4.3_shapes_and_tables.html" class="">4.3 Vector Graphics and Tables</a></p><h2 id="using-the-network-topology-algorithm" tabindex="-1"><a class="header-anchor" href="#using-the-network-topology-algorithm" aria-hidden="true">#</a> Using the Network Topology Algorithm</h2><p>After performing the network topology, you can use the built-in functions to solve many problems, such as generating a minimum spanning tree, finding the shortest path, or calculating the shortest distance. This article will take the calculation of the shortest path and its length as an example to explain the process and pitfalls of calculating the shortest path.</p><h3 id="calculating-the-shortest-path-and-its-length" tabindex="-1"><a class="header-anchor" href="#calculating-the-shortest-path-and-its-length" aria-hidden="true">#</a> Calculating the Shortest Path and Its Length</h3><p>To calculate the shortest path, it is necessary to determine which two points in the network the shortest path is between. Here, <code>startID</code> and <code>endID</code> represent the starting point and the endpoint, respectively. Let&#39;s assume that you have already created a network object and stored it in a variable named <code>Network</code>. If you don&#39;t know how to create a network graph, you can refer to the <a href="#network-topology">Network Topology</a> process described above.</p><h4 id="creating-a-minimum-spanning-tree" tabindex="-1"><a class="header-anchor" href="#creating-a-minimum-spanning-tree" aria-hidden="true">#</a> Creating a Minimum Spanning Tree</h4><p><strong>Step 1</strong>: First, create a minimum spanning tree with <code>startID</code> as the starting point. Theoretically, after creating a minimum spanning tree with the starting point, you can obtain the shortest distance from the starting point to any point on the network. You can use the <code>GenSTPTree()</code> function to create a minimum spanning tree.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GenSTPTree</span><span class="token punctuation">(</span>Network<span class="token punctuation">,</span> startID <span class="token punctuation">[</span><span class="token punctuation">,</span> endID<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The <code>endID</code> here is not necessary, but if it is available, you can provide it to the function. In other words, you have two ways to accomplish this:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GenSTPTree</span><span class="token punctuation">(</span>Network<span class="token punctuation">,</span> startID<span class="token punctuation">)</span> <span class="token comment">-- Method 1</span>
<span class="token function">GenSTPTree</span><span class="token punctuation">(</span>Network<span class="token punctuation">,</span> startID<span class="token punctuation">,</span> endID<span class="token punctuation">)</span> <span class="token comment">-- Method 2 (recommended)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>It is generally believed that the more complete the information provided, the better the execution effect. Since you already know <code>endID</code> before calculating the shortest path, it is recommended to provide it to the function.</p><blockquote><p>The usage of this function with brackets has been explained here, and this notation will be used directly in the following text.</p></blockquote><p><strong>Step 2</strong>, obtain the information corresponding to the shortest path. As mentioned earlier, the shortest route between two points can only be determined after the starting point and the destination point are determined. Since the minimum spanning tree was created using the starting point <code>startID</code> earlier, now we only need to provide the destination point <code>endID</code> in order to obtain the shortest path and its length. The following explains the methods to obtain the shortest path length and the shortest path using the <code>Network</code> object.</p><h4 id="obtaining-the-shortest-path-length" tabindex="-1"><a class="header-anchor" href="#obtaining-the-shortest-path-length" aria-hidden="true">#</a> Obtaining the Shortest Path Length</h4><p>MicroCity&#39;s documentation provides three ways to obtain the shortest path.</p><p><strong>The first method</strong> is used when the shortest path spanning tree has already been calculated and the information for the starting point has been inputted. Therefore, now only the information for the destination point needs to be provided (even if it has been provided already). The function requires a network object <code>Network</code> and the endpoint <code>endID</code> is used as follows:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> len <span class="token operator">=</span> <span class="token function">GetSTPLen</span><span class="token punctuation">(</span>Network<span class="token punctuation">,</span> endID<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>The second method</strong> calculates the shortest path length between two points on the network by providing the starting point <code>startID</code> and the destination point <code>endID</code>. This usage does not require generating the shortest path spanning tree before calculating the shortest path and can be used directly. The <code>Network</code> parameter represents the network object and is used as follows:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> len <span class="token operator">=</span> <span class="token function">GetSTPLen</span><span class="token punctuation">(</span>Network<span class="token punctuation">,</span> startID<span class="token punctuation">,</span> endID<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>The third method</strong> calculates the shortest path length between two points on the network by providing the xy coordinates of the starting and destination points. This usage also does not require generating the shortest path spanning tree before calculating the shortest path and can be used directly. The coordinates of the starting point are set as <code>x1</code> and <code>y1</code>, the coordinates of the destination point are set as <code>x2</code> and <code>y2</code>, and the <code>Network</code> parameter represents the network object and is used as follows:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> len <span class="token operator">=</span> <span class="token function">GetSTPLen</span><span class="token punctuation">(</span>Network<span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="obtaining-the-shortest-path" tabindex="-1"><a class="header-anchor" href="#obtaining-the-shortest-path" aria-hidden="true">#</a> Obtaining the Shortest Path</h4><p>MicroCity&#39;s documentation provides three pieces of information that can be obtained, namely:</p><ol><li>The sequence of point or line <strong>IDs</strong></li><li>The sequence of point or line <strong>indices</strong></li><li>The sequence of point or line <strong>shapes</strong>.</li></ol><p>For detailed usage of the functions, please refer to <a href="/MicroCityNotes/en/docs/4.6_networks.html#algorithms" class="">4.6 Networks - Algorithms</a>. Here, only the second method, which returns the sequence of point or line indices, will be used as an example.</p><p>To return the sequence of points:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetSTPPath</span> <span class="token punctuation">(</span>Network<span class="token punctuation">,</span> endID<span class="token punctuation">,</span> <span class="token string">&quot;iNodeShp&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To return the sequence of lines:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetSTPPath</span> <span class="token punctuation">(</span>Network<span class="token punctuation">,</span> endID<span class="token punctuation">,</span> <span class="token string">&quot;iLinkShp&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This way, the sequence of point or line indices can be obtained.</p><hr><h3 id="pitfall-sequences" tabindex="-1"><a class="header-anchor" href="#pitfall-sequences" aria-hidden="true">#</a> Pitfall: Sequences</h3><p>In <a href="./lua">Getting Started with Lua</a>, we introduced <strong>sets</strong> in Lua, which provide rich features to assist in code writing. However, we have not heard of <strong>sequences</strong>. A sequence is something like this:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token function">GetCenterXY</span><span class="token punctuation">(</span>Shapes<span class="token punctuation">)</span> <span class="token comment">-- using this function temporarily</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Here, <code>x</code> and <code>y</code> form a sequence. Here&#39;s another scenario:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetDistance</span> <span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2 <span class="token punctuation">[</span><span class="token punctuation">,</span> x3<span class="token punctuation">,</span> y3<span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- using another function here temporarily</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>In this case, the more points that are inputted, the more return values there will be. If four points are inputted, it can be handled like this:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- Normal case</span>
d1<span class="token punctuation">,</span> d2<span class="token punctuation">,</span> d3<span class="token punctuation">,</span> d4 <span class="token operator">=</span> <span class="token function">GetDistance</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> y3<span class="token punctuation">,</span> x4<span class="token punctuation">,</span> y4<span class="token punctuation">)</span>

<span class="token comment">-- Only the first two return values can be kept</span>
d1<span class="token punctuation">,</span> d2 <span class="token operator">=</span> <span class="token function">GetDistance</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> y3<span class="token punctuation">,</span> x4<span class="token punctuation">,</span> y4<span class="token punctuation">)</span>

<span class="token comment">-- Of course, only one return value can be kept as well</span>
d1 <span class="token operator">=</span> <span class="token function">GetDistance</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> y3<span class="token punctuation">,</span> x4<span class="token punctuation">,</span> y4<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The number of input parameters and output parameters in the above function are related. If <code>n</code> points are inputted as parameters, <code>n</code> distances will be returned. However, for the network topology, when returning the shortest path, the returned values are always parameter sequences, and I don&#39;t know how many parameters the function will give me; and when there are too many output parameters, it is also not feasible to manually create many variables to store these parameters.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- Wrong approach:</span>
<span class="token keyword">local</span> indexList <span class="token operator">=</span> <span class="token function">GetSTPPath</span><span class="token punctuation">(</span>Network<span class="token punctuation">,</span> endID<span class="token punctuation">,</span> <span class="token string">&quot;iLinkShp&quot;</span><span class="token punctuation">)</span>
<span class="token comment">-- The GetSTPPath() function does not return a table</span>
<span class="token comment">-- The indexList obtained here is only the index of the first Link, which is a numerical value.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Since the left side of the equal sign cannot be changed, let&#39;s make changes on the right side. Do you remember how to define a simplest table?</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> list <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The <code>[to_be_replace[x]]</code> on the right side can actually be seen as a sequence. So, as long as you add parentheses to the return value of a function, you can pick them all up ( •̀ ω •́ )✧</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> indexList <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">GetSTPPath</span><span class="token punctuation">(</span>Network<span class="token punctuation">,</span> endID<span class="token punctuation">,</span> <span class="token string">&quot;iLinkShp&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The <code>indexList</code> obtained using the above method is a variable of table type. Then, you can start performing various operations on the collection 😋</p><blockquote><p>This post is translated using ChatGPT, please <a href="https://github.com/huuhghhgyg/MicroCityNotes/issues/new" target="_blank" rel="noopener noreferrer"><strong>feedback</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> if any omissions.</p></blockquote></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: huuhghhgyg@outlook.com">huuhghhgyg</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/MicroCityNotes/en/notes/visualization.html" class="" aria-label="Visualization of Results"><!--[--><!--]--> Visualization of Results <!--[--><!--]--></a></span><span class="next"><a href="/MicroCityNotes/en/notes/lp.html" class="" aria-label="Model Solving"><!--[--><!--]--> Model Solving <!--[--><!--]--></a></span></p></nav><!--[--><!--[--><!-- 评论 --><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--]--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/MicroCityNotes/assets/app-7jh3jpmO.js" defer></script>
  </body>
</html>

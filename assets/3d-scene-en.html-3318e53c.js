import{_ as e}from"./coordinate-3f58bdc2.js";import{_ as a,o as t,c as n,e as s}from"./app-a79235e4.js";const o={},c=s('<h1 id="_3d-scene" tabindex="-1"><a class="header-anchor" href="#_3d-scene" aria-hidden="true">#</a> 3D Scene</h1><p>This section introduces 3D scenes and their settings.</p><h2 id="microcityweb-3d-scene-coordinate-system" tabindex="-1"><a class="header-anchor" href="#microcityweb-3d-scene-coordinate-system" aria-hidden="true">#</a> MicroCityWeb 3D Scene Coordinate System</h2><p>The 3D scene coordinate system in MicroCityWeb follows the right-hand coordinate system, and the specific direction of each coordinate axis is shown in the following figure.</p><p><img src="'+e+`" alt="Coordinate system in MicroCityWeb"></p><p>Coordinate system in MicroCityWeb</p><blockquote><p>Note that the three-dimensional coordinate axes x, y, and z here are manually drawn to show the coordinate system in MicroCityWeb and do not directly exist in the three-dimensional scene.</p></blockquote><h2 id="setting-up-a-scene" tabindex="-1"><a class="header-anchor" href="#setting-up-a-scene" aria-hidden="true">#</a> Setting up a Scene</h2><p>Setting up a scene requires the use of the <code>setenv</code> function, with the specific usage as follows:</p><div class="language-lua" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> s <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">setenv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>grid<span class="token operator">=</span><span class="token string">&quot;plane|sphere|none&quot;</span><span class="token punctuation">,</span> bgcolor<span class="token operator">=</span><span class="token string">&quot;rgb(255, 255, 255)&quot;</span><span class="token punctuation">,</span> rotspeed<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> transpeed<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> camtype<span class="token operator">=</span><span class="token string">&quot;ortho|persp&quot;</span><span class="token punctuation">,</span> clear<span class="token operator">=</span><span class="token keyword">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>It can be simplified as follows:</p><div class="language-lua" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> s <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">setenv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key1 <span class="token operator">=</span> value1<span class="token punctuation">,</span> key2 <span class="token operator">=</span> value2<span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The variable <code>s</code> holds the returned environment object. The optional parameters of the function will be described in detail below.</p><h2 id="optional-parameters-of-a-scene" tabindex="-1"><a class="header-anchor" href="#optional-parameters-of-a-scene" aria-hidden="true">#</a> Optional Parameters of a Scene</h2><h3 id="parameter-list" tabindex="-1"><a class="header-anchor" href="#parameter-list" aria-hidden="true">#</a> Parameter List</h3><ul><li><code>grid</code>: <a href="#grid-background-grid-of-the-scene">background grid of the scene</a></li><li><code>bgcolor</code>: <a href="#bgcolor-background-color-of-the-scene">background color of the scene</a></li><li><code>camtype</code>: <a href="#camtype-camera-angle-of-view">camera view</a></li><li><code>clear</code>: <a href="#clear-whether-to-clear-the-scene">whether to clear the scene</a></li><li><code>rotspeed</code> &amp; <code>transpeed</code>*: <a href="#rotspeed-transpeed">adjustment of mouse operation speed</a></li></ul><h3 id="grid-background-grid-of-the-scene" tabindex="-1"><a class="header-anchor" href="#grid-background-grid-of-the-scene" aria-hidden="true">#</a> <code>grid</code>: Background grid of the scene</h3><p>Optional values</p><table><thead><tr><th>Value</th><th>Meaning</th></tr></thead><tbody><tr><td><code>&quot;none&quot;</code></td><td>default, no grid</td></tr><tr><td><code>&quot;plane&quot;</code></td><td>flat grid</td></tr><tr><td><code>&quot;sphere&quot;</code></td><td>spherical grid</td></tr></tbody></table><h3 id="bgcolor-background-color-of-the-scene" tabindex="-1"><a class="header-anchor" href="#bgcolor-background-color-of-the-scene" aria-hidden="true">#</a> <code>bgcolor</code>: Background color of the scene</h3><p>Optional value types:</p><table><thead><tr><th>Value Type</th><th>Example</th></tr></thead><tbody><tr><td>Built-in colors</td><td><code>&quot;black&quot;</code>, <code>&quot;white&quot;</code>, <code>&quot;gray&quot;</code>, etc.</td></tr><tr><td>Hexadecimal colors</td><td><code>&quot;#ffffff&quot;</code>, <code>&quot;#fff&quot;</code>, <code>&quot;#000000&quot;</code>, <code>&quot;#000&quot;</code>, etc.</td></tr><tr><td>Colors represented by RGB</td><td><code>&quot;rgb(255, 255, 255)&quot;</code>, <code>&quot;rgb(0, 0, 0)&quot;</code>, etc.</td></tr></tbody></table><p>Example:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>scene<span class="token punctuation">.</span><span class="token function">setenv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>bgcolor<span class="token operator">=</span><span class="token string">&#39;gray&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">-- Sets the background color to the built-in color &quot;gray&quot;</span>
scene<span class="token punctuation">.</span><span class="token function">setenv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>bgcolor<span class="token operator">=</span><span class="token string">&#39;#eee&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">-- Sets the background color to the hexadecimal color &quot;#eee&quot;</span>
scene<span class="token punctuation">.</span><span class="token function">setenv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>bgcolor<span class="token operator">=</span><span class="token string">&#39;rgb(255, 255, 255)&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">-- Sets the background color to white</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="camtype-camera-angle-of-view" tabindex="-1"><a class="header-anchor" href="#camtype-camera-angle-of-view" aria-hidden="true">#</a> <code>camtype</code>: Camera angle of view</h3><p>Optional values:</p><table><thead><tr><th>Value</th><th>Meaning</th></tr></thead><tbody><tr><td><code>&quot;ortho&quot;</code></td><td>Orthographic. Equivalent to a projection onto the x and y plane. User&#39;s view is in two-dimensional space.</td></tr><tr><td><code>&quot;persp&quot;</code></td><td>Perspective (default). User&#39;s view is in three-dimensional space.</td></tr></tbody></table><h3 id="clear-whether-to-clear-the-scene" tabindex="-1"><a class="header-anchor" href="#clear-whether-to-clear-the-scene" aria-hidden="true">#</a> <code>clear</code>: Whether to clear the scene</h3><p>When the value is set to <code>true</code>, the scene is cleared.</p><blockquote><p>The <code>setenv</code> function does not clear the original scene by default, unless the value of the <code>clear</code> parameter is manually set to <code>true</code>.</p></blockquote><h3 id="rotspeed-transpeed" tabindex="-1"><a class="header-anchor" href="#rotspeed-transpeed" aria-hidden="true">#</a> <code>rotspeed</code> &amp; <code>transpeed</code></h3><table><thead><tr><th>Value</th><th>Meaning</th></tr></thead><tbody><tr><td><code>rotspeed</code></td><td>Sets the speed of rotating a 3D object with the mouse.</td></tr><tr><td><code>transpeed</code></td><td>Sets the speed of translating a 3D object with the mouse.</td></tr></tbody></table><p>These two parameters usually do not need to be set specially, and the default values can be used.</p><h2 id="others" tabindex="-1"><a class="header-anchor" href="#others" aria-hidden="true">#</a> Others</h2><h3 id="regarding-high-frequency-setting-scenarios" tabindex="-1"><a class="header-anchor" href="#regarding-high-frequency-setting-scenarios" aria-hidden="true">#</a> Regarding high-frequency setting scenarios</h3><p>2023/03/21: It has been found that setting the scene too frequently can cause excessive memory usage and browser crashes. Therefore, it is recommended to avoid calling the <code>scene.setenv()</code> function in a loop as much as possible.</p><p>If it is necessary to do so, make sure that the frequency of calls is relatively low. This allows the browser to have enough time for garbage collection, otherwise it may cause the browser to crash.</p>`,37),r=[c];function d(i,p){return t(),n("div",null,r)}const h=a(o,[["render",d],["__file","3d-scene-en.html.vue"]]);export{h as default};

import{_ as t}from"./icon_script_editor-51788c73.js";import{_ as e,r as p,o,c,a as n,b as a,d as u,w as l,e as i}from"./app-59a876a1.js";const d={},r=n("h1",{id:"_4-5-3d场景",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_4-5-3d场景","aria-hidden":"true"},"#"),a(" 4.5 3D场景")],-1),k=n("strong",null,"Scenes",-1),b=n("strong",null,"3D objects",-1),v=n("strong",null,"Project",-1),m=n("img",{src:t,alt:"icon"},null,-1),g=n("strong",null,"ScriptEditor",-1),h=i(`<h2 id="_3d-scene-and-object-manipulation" tabindex="-1"><a class="header-anchor" href="#_3d-scene-and-object-manipulation" aria-hidden="true">#</a> 3D Scene and Object Manipulation</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">CreateScene</span> <span class="token punctuation">(</span><span class="token string">&quot;Title&quot;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> RotSpeed<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> TransSpeed<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Creates a new 3d scene and returns the object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">AddZipTo3DPath</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> <span class="token string">&quot;filename.zip&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Adds a zip file to the search directory and returns true if succeed. It is useful for collecting a large amount of files.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">LoadSkybox</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> <span class="token string">&quot;top.jpg&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;bottom.jpg&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;left.jpg&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;right.jpg&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;front.jpg&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;back.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Loads six image files as the skybox of a 3d scene.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">LoadObject</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> <span class="token string">&quot;filename.3ds&quot;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span>shadow <span class="token operator">=</span> <span class="token keyword">false</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> AnimationSpeed<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Loads a 3d object from a file and returns the object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">AddLight</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> Radius <span class="token punctuation">[</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">,</span> g <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Adds a light object and returns the object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">Add3DLabel</span><span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> <span class="token string">&quot;label&quot;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">10</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">,</span> g <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">180</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token string">&quot;font.xml&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Adds a 3D label at (0,0,0) and returns the object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">Add3DLine</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> z1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> z2 <span class="token punctuation">[</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> g <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Adds a 3D line object frome (x1, y1, z1) to (x2, y2, z2) and retruns the object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">Add3DRect</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> length<span class="token punctuation">,</span> width <span class="token punctuation">[</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">,</span> g <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Adds a 3D rectangular object from (-length/2,0,-width/2) to (length/2,0,width/2) and returns the object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">Add3DBox</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> length<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height <span class="token punctuation">[</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">,</span> g <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">180</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> bShowEdge <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Adds a 3D box object from (-length/2,-height/2,-width/2) to (length/2,height/2,width/2) and returns the object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">AddSphere</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> radius <span class="token punctuation">[</span><span class="token punctuation">,</span> polycount <span class="token operator">=</span> <span class="token number">16</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">,</span> g <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Adds a sphere at (0,0,0) and returns the object. If the radius parameter is less than 0, returns an invisible object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetTexture</span> <span class="token punctuation">(</span>Object<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Returns the texture files of a object: &quot;filename1&quot;, &quot;filename2&quot;, ... .</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">LoadTexture</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> Object<span class="token punctuation">,</span> <span class="token string">&quot;filename1&quot;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token string">&quot;filename2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Loads texture files to an object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">SetPosition</span> <span class="token punctuation">(</span>Object<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">[</span><span class="token punctuation">,</span> absolute <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Sets the position of an object relative to its parent (or the absolute position to the scene).</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetPosition</span> <span class="token punctuation">(</span>Object <span class="token punctuation">[</span><span class="token punctuation">,</span> absolute <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Gets the position of an object relative to its parent (or the absolute position to the scene).</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">SetRotation</span> <span class="token punctuation">(</span>Object<span class="token punctuation">,</span> rx<span class="token punctuation">,</span> ry<span class="token punctuation">,</span> rz <span class="token punctuation">[</span><span class="token punctuation">,</span> absolute <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Sets the rotation (left hand rule) of an object in degrees relative to its parent (or the absolute rotation to the scene).</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetRotation</span> <span class="token punctuation">(</span>Object <span class="token punctuation">[</span><span class="token punctuation">,</span> absolute <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Gets the rotation (left hand rule) of an object in degrees relative to its parent (or the absolute rotation to the scene).</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">SetScale</span> <span class="token punctuation">(</span>Object<span class="token punctuation">,</span> sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> sz<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Sets the scale of an object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetScale</span> <span class="token punctuation">(</span>Object<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Gets the scale of an object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">SetParent</span> <span class="token punctuation">(</span>Object<span class="token punctuation">,</span> Parent<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Attaches an object to another object as a child.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetParent</span> <span class="token punctuation">(</span>Object<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Gets the parent of an object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">SetObject</span> <span class="token punctuation">(</span>Object <span class="token string">&quot;id&quot;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">,</span>rx<span class="token punctuation">,</span> ry<span class="token punctuation">,</span> rz <span class="token punctuation">[</span><span class="token punctuation">,</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> sz<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Sets the ID, position, rotation and scale of an object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">DelObject</span> <span class="token punctuation">(</span>Object<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Deletes an object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">SetCamera</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">[</span><span class="token punctuation">,</span>Tx<span class="token punctuation">,</span> Ty<span class="token punctuation">,</span> Tz<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Sets the position and target of the scene camera.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetCamera</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Gets the camera object of a 3d scene and its position and targt.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetSelections</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Returns selected objects from a 3d scene.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetObjectID</span> <span class="token punctuation">(</span>Object1 <span class="token punctuation">[</span><span class="token punctuation">,</span> Object2<span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Returns &quot;id&quot;s of objects.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">SetObjectID</span> <span class="token punctuation">(</span>Object<span class="token punctuation">,</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Sets the id of an object.</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">GetObject</span> <span class="token punctuation">(</span>Scene<span class="token punctuation">,</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Finds an object by its id.</p>`,57);function f(j,x){const s=p("RouterLink");return o(),c("div",null,[r,n("p",null,[k,a(" and inside "),b,a(" ("),u(s,{to:"/docs/3.4_3d_scenes.html"},{default:l(()=>[a("3.4")]),_:1}),a(') can be scripted. Sample codes for this chapter can be found in the "3d_samples" folder of the '),v,a(" Tab in "),m,g,a(".")]),h])}const q=e(d,[["render",f],["__file","4.5_3d_scenes.html.vue"]]);export{q as default};
